# Reglas de Proyecto - Brisca Multiplatform

## üö´ PROHIBICI√ìN ABSOLUTA: Dimensiones Hardcodeadas (.dp y .sp)

### REGLA CR√çTICA #2: NUNCA usar `.dp` o `.sp` hardcodeados en c√≥digo UI/Composable

**EST√Å ESTRICTAMENTE PROHIBIDO:**
- ‚ùå `.padding(16.dp)`
- ‚ùå `.height(48.dp)`
- ‚ùå `.width(100.dp)`
- ‚ùå `fontSize = 16.sp`
- ‚ùå `spacing = 24.dp`
- ‚ùå `border(1.dp)`
- ‚ùå `elevation(2.dp)`
- ‚ùå Cualquier valor num√©rico seguido de `.dp` o `.sp` fuera de `ThemeDimens`

### ‚úÖ OBLIGATORIO: Usar ThemeDimens

**SIEMPRE usar `ThemeDimens` que centraliza todas las dimensiones:**

1. **ThemeDimens contiene todas las dimensiones:**
   ```kotlin
   object ThemeDimens {
       // Espaciado
       val XS_SPACING = 4.dp
       val SM_SPACING = 8.dp
       val NORMAL_SPACING = 16.dp
       val LG_SPACING = 24.dp
       val XL_SPACING = 32.dp
       
       // Componentes
       val BUTTON_HEIGHT = 48.dp
       val INPUT_HEIGHT = 36.dp
       val ICON_SIZE_SM = 16.dp
       val ICON_SIZE_MD = 24.dp
       val ICON_SIZE_LG = 32.dp
       
       // Texto
       val TEXT_SIZE_SM = 12.sp
       val TEXT_SIZE_MD = 14.sp
       val TEXT_SIZE_LG = 16.sp
       val FONT_SIZE_BODY_LARGE = 16.sp
       // ... m√°s dimensiones
   }
   ```

2. **Uso correcto en componentes:**
   ```kotlin
   @Composable
   fun MyComponent() {
       Column(
           modifier = Modifier
               .fillMaxWidth()
               .padding(ThemeDimens.NORMAL_SPACING) // ‚úÖ Usar ThemeDimens
       ) {
           Spacer(modifier = Modifier.height(ThemeDimens.SM_SPACING)) // ‚úÖ
           
           Button(
               modifier = Modifier
                   .height(ThemeDimens.BUTTON_HEIGHT) // ‚úÖ
                   .padding(ThemeDimens.XS_SPACING), // ‚úÖ
               onClick = { }
           ) {
               Text(
                   text = "Bot√≥n",
                   fontSize = ThemeDimens.TEXT_SIZE_LG // ‚úÖ
               )
           }
       }
   }
   ```

### üìç Ubicaci√≥n de ThemeDimens

- **Archivo:** `composeApp/src/commonMain/kotlin/cl/silverbullet/multiplatform/brisca/core/ui/design/ThemeDimens.kt`
- **Referencia:** ADR-0029: Sistema de Dimensiones con ThemeDimens

### üîç Detecci√≥n de Violaciones

**ANTES de escribir c√≥digo, verificar:**
1. ¬øHay un n√∫mero seguido de `.dp`? ‚Üí DEBE estar en `ThemeDimens`
2. ¬øHay un n√∫mero seguido de `.sp`? ‚Üí DEBE estar en `ThemeDimens`
3. ¬øEstoy usando dimensiones en un `Modifier`? ‚Üí DEBE usar `ThemeDimens`
4. ¬øEstoy usando `fontSize` o `lineHeight`? ‚Üí DEBE usar `ThemeDimens`

### ‚ö†Ô∏è Excepciones (MUY LIMITADAS)

**√öNICAMENTE se permiten `.dp` y `.sp` hardcodeados en:**
- **Dentro de `ThemeDimens.kt`** (es el √∫nico lugar donde se definen)
- Valores calculados din√°micamente basados en `ThemeDimens`:
  ```kotlin
  val calculatedSize = ThemeDimens.NORMAL_SPACING * 2 // ‚úÖ Basado en ThemeDimens
  ```
- Valores t√©cnicos de Material Design que no est√°n en ThemeDimens (consultar primero si existe)

**NUNCA en:**
- Funciones `@Composable`
- Modificadores de `Modifier`
- Par√°metros de componentes UI
- Valores de `fontSize`, `lineHeight`, `letterSpacing`
- Padding, margin, spacing
- Alturas, anchos, tama√±os
- Border radius, elevation, stroke width

### üìù Checklist Antes de Proponer C√≥digo

Antes de escribir cualquier c√≥digo con dimensiones, verificar:

- [ ] ¬øHay valores `.dp` o `.sp`? ‚Üí Verificar si existe en `ThemeDimens`
- [ ] ¬øEl valor no existe en `ThemeDimens`? ‚Üí Agregarlo primero a `ThemeDimens`
- [ ] ¬øTodos los modificadores usan `ThemeDimens`? ‚Üí Revisar TODOS los valores num√©ricos
- [ ] ¬øLos tama√±os de texto usan `ThemeDimens`? ‚Üí Verificar `fontSize`, `lineHeight`

### üéØ Ejemplo Correcto vs Incorrecto

**‚ùå INCORRECTO:**
```kotlin
@Composable
fun MyScreen() {
    Column(
        modifier = Modifier
            .padding(16.dp) // ‚ùå PROHIBIDO
            .height(200.dp) // ‚ùå PROHIBIDO
    ) {
        Spacer(modifier = Modifier.height(24.dp)) // ‚ùå PROHIBIDO
        
        Text(
            text = "T√≠tulo",
            fontSize = 18.sp // ‚ùå PROHIBIDO
        )
        
        Button(
            modifier = Modifier
                .height(48.dp) // ‚ùå PROHIBIDO
                .padding(8.dp), // ‚ùå PROHIBIDO
            onClick = { }
        ) {
            Text("Bot√≥n")
        }
    }
}
```

**‚úÖ CORRECTO:**
```kotlin
@Composable
fun MyScreen() {
    Column(
        modifier = Modifier
            .padding(ThemeDimens.NORMAL_SPACING) // ‚úÖ Desde ThemeDimens
            .height(ThemeDimens.HTML_TEXT_MAX_HEIGHT) // ‚úÖ Desde ThemeDimens
    ) {
        Spacer(modifier = Modifier.height(ThemeDimens.LG_SPACING)) // ‚úÖ
        
        Text(
            text = "T√≠tulo",
            fontSize = ThemeDimens.FONT_SIZE_TITLE_LARGE // ‚úÖ
        )
        
        Button(
            modifier = Modifier
                .height(ThemeDimens.BUTTON_HEIGHT) // ‚úÖ
                .padding(ThemeDimens.SM_SPACING), // ‚úÖ
            onClick = { }
        ) {
            Text("Bot√≥n")
        }
    }
}
```

### üîß Cuando Encuentres Dimensiones Hardcodeadas

**SI encuentras `.dp` o `.sp` hardcodeados en c√≥digo existente:**

1. **Identificar el valor:** ¬øQu√© dimensi√≥n es? (padding, height, fontSize, etc.)
2. **Verificar ThemeDimens:** ¬øExiste una constante equivalente en `ThemeDimens`?
3. **Si existe:** Reemplazar el valor hardcodeado por la constante de `ThemeDimens`
4. **Si NO existe:** 
   - Agregar la constante a `ThemeDimens` con un nombre descriptivo
   - Documentar su uso si es espec√≠fico de un componente
   - Reemplazar el valor hardcodeado por la nueva constante
5. **Verificar:** Asegurar que el cambio no rompe el dise√±o

### üìö Valores Comunes en ThemeDimens

**Espaciado:**
- `ThemeDimens.XS_SPACING` (4.dp)
- `ThemeDimens.SM_SPACING` (8.dp)
- `ThemeDimens.NORMAL_SPACING` (16.dp)
- `ThemeDimens.LG_SPACING` (24.dp)
- `ThemeDimens.XL_SPACING` (32.dp)

**Componentes:**
- `ThemeDimens.BUTTON_HEIGHT` (48.dp)
- `ThemeDimens.INPUT_HEIGHT` (36.dp)
- `ThemeDimens.ICON_SIZE_SM` (16.dp)
- `ThemeDimens.ICON_SIZE_MD` (24.dp)
- `ThemeDimens.ICON_SIZE_LG` (32.dp)

**Texto:**
- `ThemeDimens.TEXT_SIZE_SM` (12.sp)
- `ThemeDimens.TEXT_SIZE_MD` (14.sp)
- `ThemeDimens.TEXT_SIZE_LG` (16.sp)
- `ThemeDimens.FONT_SIZE_BODY_LARGE` (16.sp)
- `ThemeDimens.FONT_SIZE_TITLE_LARGE` (22.sp)

**Ver el archivo completo:** `composeApp/src/commonMain/kotlin/cl/silverbullet/multiplatform/brisca/core/ui/design/ThemeDimens.kt`

### üìö Referencias

- ADR-0029: Sistema de Dimensiones con ThemeDimens
- `composeApp/src/commonMain/kotlin/cl/silverbullet/multiplatform/brisca/core/ui/design/ThemeDimens.kt` - Archivo completo de dimensiones

---

## ‚ö†Ô∏è RECORDATORIO CR√çTICO

**CADA VEZ que escribas c√≥digo:**
1. Si hay un n√∫mero con `.dp` o `.sp` ‚Üí DEBE estar en `ThemeDimens`
2. Si est√°s en una funci√≥n `@Composable` ‚Üí TODAS las dimensiones DEBEN venir de `ThemeDimens`
3. Si propones c√≥digo con dimensiones hardcodeadas ‚Üí EL C√ìDIGO EST√Å INCORRECTO

**NO HAY EXCUSAS. NO HAY EXCEPCIONES PARA UI.**

**El √∫nico lugar donde se permiten `.dp` y `.sp` hardcodeados es dentro del archivo `ThemeDimens.kt`.**
