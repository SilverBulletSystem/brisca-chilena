# Plantilla de diseno detallado (Nivel 4)

## 1. Contexto y objetivo
- Problema que resuelve.
- Alcance exacto (incluye / excluye).

## 2. Dependencias
- Modulos internos.
- Servicios externos.
- Flags o ambientes requeridos.

## 3. Modelo de dominio
- Entidades y value objects.
- Reglas de negocio clave.

## 4. Contratos y datos
- DTOs/JSON/SQL/Settings keys.
- Versionado y compatibilidad.
- Ejemplos minimos de payloads.

## 5. UI y UX (si aplica)
- Componentes Dui usados.
- Layout principal.
- Estados: loading, empty, error.
- Accesibilidad (focus, contrastes, touch targets).
- i18n (interfaces y keys).

## 6. Flujos y secuencias
- Paso a paso principal.
- Casos borde y fallbacks.

## 7. Seguridad y privacidad
- Redaccion de PII.
- Cifrado o no cifrado (y justificacion).

## 8. Performance
- Limites de payload.
- Estrategia de cache y TTL.
- Reintentos y backoff.

## 9. Observabilidad
- Logs estructurados.
- Eventos a State/External Record.
- Metricas sugeridas.

## 10. Testing
- Unit tests.
- Integration tests.
- Smokes y checklist QA.

## 11. Criterios de aceptacion
- Lista concreta y verificable.

## 12. Pendientes y riesgos
- Gaps conocidos.
- Riesgos abiertos.
